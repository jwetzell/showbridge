<ng-container *ngIf="trigger">
  <div
    class="flex"
    [style.opacity]="this.trigger.enabled ? '1.0' : '0.5'"
    [style.align-items]="
      this.trigger.actions === undefined || this.trigger.actions.length === 0 ? 'center' : 'baseline'
    ">
    <div class="flex flex-col my-3 ml-5 bg-gray-900 border-2 border-gray-500 border-solid trigger w-fit">
      <div class="ml-2 text-gray-400">{{ trigger.type }}</div>
      <div class="flex-auto m-2">
        <app-object-form
          [objectType]="'Trigger'"
          [type]="trigger.type"
          [data]="trigger"
          (updated)="update($event)"></app-object-form>
      </div>
      <mat-icon (click)="deleteMe()" class="text-red-500 hover:cursor-pointer">delete</mat-icon>
    </div>
    <div class="flex flex-col justify-center items-center">
      <mat-icon [style.color]="indicatorColor" class="scale-150">arrow_right</mat-icon>
    </div>
    <div>
      <div cdkDropList (cdkDropListDropped)="drop($event)" class="flex flex-col">
        <div cdkDrag *ngFor="let action of trigger.actions; let i = index">
          <app-action
            [path]="path + '/actions/' + i"
            [action]="action"
            (delete)="deleteAction(i)"
            (updated)="actionUpdated(i, $event)"></app-action>
        </div>
      </div>
      <div class="w-full" *ngIf="schemaService.actionTypes.length > 0">
        <div
          class="bg-gray-700 flex items-center justify-center hover:cursor-pointer hover:bg-gray-500"
          [matMenuTriggerFor]="addActionMenu">
          <mat-icon>add</mat-icon>
        </div>
        <mat-menu #addActionMenu="matMenu">
          <button
            mat-menu-item
            *ngFor="let actionType of schemaService.actionTypes"
            (click)="addAction(actionType.type)">
            <span>{{ actionType.name }}</span>
          </button>
        </mat-menu>
      </div>
    </div>
  </div>
</ng-container>
